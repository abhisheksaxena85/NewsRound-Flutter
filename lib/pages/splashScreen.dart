import 'dart:async';import 'package:flutter/foundation.dart';import 'package:flutter/material.dart';import 'package:news_round/pages/dashboardBottomNavigation.dart';import 'package:news_round/userDataCollectionLocal/interstedCategories.dart';import 'package:shared_preferences/shared_preferences.dart';class splashScreen extends StatefulWidget {  @override  State<splashScreen> createState() => _splashScreenState();}class _splashScreenState extends State<splashScreen> {  bool? userInfo = false;  String? country;  String? language;  List<String>? selectedCategories;  @override  void initState() {    //Getting user information    userData();    //Timer of splash    Timer(Duration(milliseconds: 1800), () {      if (userInfo==true) {        Navigator.pushReplacement(context, MaterialPageRoute(builder: (context)=> dashboardNavigationBar(selectedCategories:selectedCategories)));        if (kDebugMode) {          print(          'userinfo: $userInfo\ncountry: $country\nlanguage: $language\ncategories: $selectedCategories'        );        }      } else{        Navigator.pushReplacement(context, MaterialPageRoute(builder: (context)=>  interstedCategories()));      }    });    super.initState();  }  @override  Widget build(BuildContext context) {    //Checking the brightness mode    Brightness brightnessMode = MediaQuery.of(context).platformBrightness;    bool lightMode =        brightnessMode == Brightness.light; //True if LightMode enabled    if (kDebugMode) {      print('Light Mode: ' + lightMode.toString());    } //Debug only    return Scaffold(      appBar: null,      body: Container(        width: double.infinity,        height: double.infinity,        color: lightMode ? Colors.white : Colors.black,        child: Center(          child: Container(            margin: const EdgeInsets.only(),            width: 180,            height: 180,            child: Image.asset(              lightMode                  ? 'assets/images/news_logo.jpg'                  : 'assets/images/news_logo_dark.jpg',            ),          ),        ),      ),    );  }  //Checking if user is new && Getting user information from shared preference provided by user on initialization  Future<void> userData() async {    SharedPreferences preferences = await SharedPreferences.getInstance();  //Initialization of LB {Local DataBase}    selectedCategories = preferences.getStringList('selectedCategories');   //Retrieving the selected categories data    userInfo = preferences.getBool("isUsrAvailable");    country = preferences.getString('country');    language = preferences.getString('language');  }}