import 'dart:async';import 'package:flutter/foundation.dart';import 'package:flutter/material.dart';import 'package:flutter/services.dart';import 'package:news_round/pages/dashboardBottomNavigation.dart';import 'package:news_round/userDataCollectionLocal/interstedCategories.dart';import 'package:shared_preferences/shared_preferences.dart';class splashScreen extends StatefulWidget {  @override  State<splashScreen> createState() => _splashScreenState();}class _splashScreenState extends State<splashScreen> {  bool? userInfo = false;  String? country;  String? language;  List<String>? selectedCategories;  @override  void initState() {    //Getting user information    userData();    //Timer of splash    Timer(const Duration(milliseconds: 1800), () {      if (userInfo==true) {        Navigator.pushReplacement(context, MaterialPageRoute(builder: (context)=> dashboardNavigationBar(selectedCategories:selectedCategories)));        if (kDebugMode) {          print(          'userinfo: $userInfo\ncountry: $country\nlanguage: $language\ncategories: $selectedCategories'        );        }      } else{        Navigator.pushReplacement(context, MaterialPageRoute(builder: (context)=>  interstedCategories(false)));      }    });    super.initState();  }  @override  Widget build(BuildContext context) {    //ThemeMode boolean    bool theme = MediaQuery.of(context).platformBrightness == Brightness.light;    bool lightTheme = theme ? true : false;    //*Changing the color of statusBar of this screen    SystemChrome.setSystemUIOverlayStyle(SystemUiOverlayStyle(      statusBarColor: lightTheme ? Colors.white : Colors.black,    ));    if (kDebugMode) {      print('Light Mode: $lightTheme');    } //Debug only    return Scaffold(      appBar: AppBar(        toolbarHeight: 0,        backgroundColor:lightTheme ? Colors.white : Colors.black,        shadowColor: Colors.transparent,      ),      body: Container(        width: double.infinity,        alignment: Alignment.center,        height: MediaQuery.of(context).size.height,        color: lightTheme ? Colors.white : Colors.black,        child: Center(          child: Container(            margin: const EdgeInsets.only(bottom:15 ),            width: 180,            height: 180,            child: Image.asset(              lightTheme                  ? 'assets/images/news_logo.jpg'                  : 'assets/images/news_logo_dark.jpg',            ),          ),        ),      ),    );  }  //Checking if user is new && Getting user information from shared preference provided by user on initialization  Future<void> userData() async {    SharedPreferences preferences = await SharedPreferences.getInstance();  //Initialization of LB {Local DataBase}    selectedCategories = preferences.getStringList('selectedCategories');   //Retrieving the selected categories data    userInfo = preferences.getBool("isUsrAvailable");    country = preferences.getString('country');    language = preferences.getString('language');  }}