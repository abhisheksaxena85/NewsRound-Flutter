import 'package:flutter/cupertino.dart';import 'package:flutter/foundation.dart';import 'package:flutter/material.dart';import 'package:flutter/widgets.dart';import 'package:news_round/pages/dashboardBottomNavigation.dart';import 'package:news_round/pages/dashboardScreen.dart';import 'package:shared_preferences/shared_preferences.dart';class interstedCategories extends StatefulWidget {  @override  State<interstedCategories> createState() => _interstedCategoriesState();}class _interstedCategoriesState extends State<interstedCategories> {  List<String> selectedCategoryList = [];  Color businescolor = Colors.white;  Color businesTextColor = Colors.black54;  bool  businessSelected = true;  Color entertainmentcolor = Colors.white;  Color entertainmentTextColor = Colors.black54;  bool  entertainmentSelected = true;  Color newscolor = Colors.white;  Color newsTextColor = Colors.black54;  bool  newsSelected = true;  Color healthcolor = Colors.white;  Color healthTextColor = Colors.black54;  bool  healthSelected = true;  Color internationalcolor = Colors.white;  Color internationalTextColor = Colors.black54;  bool  internationalSelected = true;  Color lifestylecolor = Colors.white;  Color lifestyleTextColor = Colors.black54;  bool  lifestyleSelected = true;  Color politicscolor = Colors.white;  Color politicsTextColor = Colors.black54;  bool  politicsSelected = true;  Color sportscolor = Colors.white;  Color sportsTextColor = Colors.black54;  bool  sportsSelected = true;  Color sciencecolor = Colors.white;  Color scienceTextColor = Colors.black54;  bool  scienceSelected = true;  Color technologycolor = Colors.white;  Color technologyTextColor = Colors.black54;  bool  technologySelected = true;  Color spaceSciencecolor = Colors.white;  Color spaceScienceTextColor = Colors.black54;  bool  spaceScienceSelected = true;  @override  Widget build(BuildContext context) {    print(selectedCategoryList.toString());    return Scaffold(      appBar: null,      body: Container(        alignment: Alignment.center,        color:Colors.white,        child:Column(          mainAxisAlignment: MainAxisAlignment.center,            crossAxisAlignment: CrossAxisAlignment.start,            children: [              Expanded(                flex: 5,                child: Column(                  mainAxisAlignment: MainAxisAlignment.end,                  crossAxisAlignment: CrossAxisAlignment.center,                  children: [                    //Title of category UI                    categoryTitle(),                    //Description of category screen                    categoryDescription(),const SizedBox(height: 30,),                    //Category selectable content                    categoryContent(),                  ],                ),              ),              //Finish button              Expanded(                flex: 2,                child: finishBtn(context),              )            ],        ),      ),    );  }  //Category title  Widget categoryTitle(){    return Container(      margin: const EdgeInsets.only(left: 10,right: 10),      child:const Text(        'Select your intersted categories',        style: TextStyle(          fontSize: 23,          fontWeight: FontWeight.bold,          fontFamily: 'nunitosSans_bold'        ),      ),    );  }  //Category description  Widget categoryDescription(){    return Container(      margin: const EdgeInsets.only(left: 10,right: 10,top: 10),      child:const Text(        'Select at least three categories below',        style: TextStyle(            fontSize: 16,            color: Colors.black38,            fontFamily: 'nunitosSans_regular'        ),      ),    );  }  //Category content  Widget categoryContent(){    return Wrap(      crossAxisAlignment: WrapCrossAlignment.center,      children: [        InkWell(          onTap: (){            setState(() {              if(businessSelected){                businesTextColor = Colors.white;                businescolor = Colors.blue.shade800;                businessSelected = !businessSelected;                selectedCategoryList.add('Business');              }else{                businesTextColor = Colors.black54;                businescolor = Colors.white;                businessSelected = !businessSelected;                selectedCategoryList.remove('Business');              }            });          },            child: categoryChip('Business',businescolor,businesTextColor)),        InkWell(            onTap: (){              setState(() {                if(entertainmentSelected){                  entertainmentTextColor = Colors.white;                  entertainmentcolor = Colors.blue.shade800;                  entertainmentSelected = !entertainmentSelected;                  selectedCategoryList.add('Entertainment');                }else{                  entertainmentTextColor = Colors.black54;                  entertainmentcolor = Colors.white;                  entertainmentSelected = !entertainmentSelected;                  selectedCategoryList.remove('Entertainment');                }              });            },            child: categoryChip('Entertainment',entertainmentcolor,entertainmentTextColor)),        InkWell(            onTap: (){              setState(() {                if(newsSelected){                  newsTextColor = Colors.white;                  newscolor = Colors.blue.shade800;                  newsSelected = !newsSelected;                  selectedCategoryList.add('News');                }else{                  newsTextColor = Colors.black54;                  newscolor = Colors.white;                  newsSelected = !newsSelected;                  selectedCategoryList.remove('News');                }              });            },            child: categoryChip('News',newscolor,newsTextColor)),        InkWell(            onTap: (){              setState(() {                if(healthSelected){                  healthTextColor = Colors.white;                  healthcolor = Colors.blue.shade800;                  healthSelected = !healthSelected;                  selectedCategoryList.add('Health');                }else{                  healthTextColor = Colors.black54;                  healthcolor = Colors.white;                  healthSelected = !healthSelected;                  selectedCategoryList.remove('Health');                }              });            },            child: categoryChip('Health',healthcolor,healthTextColor)),        InkWell(            onTap: (){              setState(() {                if(internationalSelected){                  internationalTextColor = Colors.white;                  internationalcolor = Colors.blue.shade800;                  internationalSelected = !internationalSelected;                  selectedCategoryList.add('International');                }else{                  internationalTextColor = Colors.black54;                  internationalcolor = Colors.white;                  internationalSelected = !internationalSelected;                  selectedCategoryList.remove('International');                }              });            },            child: categoryChip('International',internationalcolor,internationalTextColor)),        InkWell(            onTap: (){              setState(() {                if(lifestyleSelected){                  lifestyleTextColor = Colors.white;                  lifestylecolor = Colors.blue.shade800;                  lifestyleSelected = !lifestyleSelected;                  selectedCategoryList.add('LifeStyle');                }else{                  lifestyleTextColor = Colors.black54;                  lifestylecolor = Colors.white;                  lifestyleSelected = !lifestyleSelected;                  selectedCategoryList.remove('LifeStyle');                }              });            },            child: categoryChip('Life Style',lifestylecolor,lifestyleTextColor)),        InkWell(            onTap: (){              setState(() {                if(politicsSelected){                  politicsTextColor = Colors.white;                  politicscolor = Colors.blue.shade800;                  politicsSelected = !politicsSelected;                  selectedCategoryList.add('Politics');                }else{                  politicsTextColor = Colors.black54;                  politicscolor = Colors.white;                  politicsSelected = !politicsSelected;                  selectedCategoryList.remove('Politics');                }              });            },            child: categoryChip('Politics',politicscolor,politicsTextColor)),        InkWell(            onTap: (){              setState(() {                if(sportsSelected){                  sportsTextColor = Colors.white;                  sportscolor = Colors.blue.shade800;                  sportsSelected = !sportsSelected;                  selectedCategoryList.add('Sports');                }else{                  sportsTextColor = Colors.black54;                  sportscolor = Colors.white;                  sportsSelected = !sportsSelected;                  selectedCategoryList.remove('Sports');                }              });            },            child: categoryChip('Sports',sportscolor,sportsTextColor)),        InkWell(            onTap: (){              setState(() {                if(scienceSelected){                  scienceTextColor = Colors.white;                  sciencecolor = Colors.blue.shade800;                  scienceSelected = !scienceSelected;                  selectedCategoryList.add('Science');                }else{                  scienceTextColor = Colors.black54;                  sciencecolor = Colors.white;                  scienceSelected = !scienceSelected;                  selectedCategoryList.remove('Science');                }              });            },            child: categoryChip('Science',sciencecolor,scienceTextColor)),        InkWell(            onTap: (){              setState(() {                if(technologySelected){                  technologyTextColor = Colors.white;                  technologycolor = Colors.blue.shade800;                  technologySelected = !technologySelected;                  selectedCategoryList.add('Technology');                }else{                  technologyTextColor = Colors.black54;                  technologycolor = Colors.white;                  technologySelected = !technologySelected;                  selectedCategoryList.remove('Technology');                }              });            },            child: categoryChip('Technology',technologycolor,technologyTextColor)),        InkWell(            onTap: (){              setState(() {                if(spaceScienceSelected){                  spaceScienceTextColor = Colors.white;                  spaceSciencecolor = Colors.blue.shade800;                  spaceScienceSelected = !spaceScienceSelected;                  selectedCategoryList.add('SpaceScience');                }else{                  spaceScienceTextColor = Colors.black54;                  spaceSciencecolor = Colors.white;                  spaceScienceSelected = !sportsSelected;                  selectedCategoryList.remove('SpaceScience');                }              });            },            child: categoryChip('Space Science',spaceSciencecolor,spaceScienceTextColor)),      ],    );  }  Widget categoryChip(String value,Color color,Color textColor){    return Container(      margin:const EdgeInsets.only(left: 15,right: 6,top: 7,bottom: 7),      decoration:  BoxDecoration(        color: color,        border: Border.all(width:0.3,color: Colors.black38,),        borderRadius:const BorderRadius.all(Radius.circular(8))      ),      child: Padding(        padding:const EdgeInsets.only(left: 20,right: 20,top: 8,bottom: 8),        child: Text(          value,          style:  TextStyle(              fontSize: 16,              color: textColor,              fontWeight: FontWeight.normal,              fontFamily: 'nunitosSans_semiBold'          ),        ),      ),    );  }  Widget finishBtn(BuildContext context){    return Container(      alignment: Alignment.bottomCenter,      margin: EdgeInsets.only(left: 20, right: 20, bottom: 30),      child: InkWell(          onTap: () async {            if (selectedCategoryList.length >= 3) {              //Setting the country selected by user              SharedPreferences preferences = await SharedPreferences.getInstance();              preferences.setStringList('selectedCategories', selectedCategoryList);              preferences.setBool('isUsrAvailable', true);              Navigator.of(context)                   .popUntil((route) {                     return route.isFirst;                   },);              Navigator.pushReplacement(context, MaterialPageRoute(builder:(context)=> dashboardNavigationBar(selectedCategories:selectedCategoryList)));            } else {              //Debug Only              if (kDebugMode) {                print('Button is disable, select value first');              }            }          },          child: Container(            width: double.infinity,            height: 45,            alignment: Alignment.center,            decoration: BoxDecoration(                color: selectedCategoryList.length >= 3 ? Colors.black : Colors.black26,                borderRadius: const BorderRadius.all(Radius.circular(8))),            child: const Text(              textAlign:TextAlign.center,              'Finish',              style: TextStyle(                  color: Colors.white,                  fontSize: 18,                  fontFamily: 'nunitosSans_regular',                  fontWeight: FontWeight.normal),            ),          )),    );  }}